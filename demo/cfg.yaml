# TODO clean up in config

addr: '[localhost]:6432'
adm_addr: '[localhost]:7432'
proto: 'tcp'
http_conf:
        addr: 'localhost:7000'
key_file: '/router/docker/router/server.key'
cert_file: '/router/docker/router/server.cert' 
router:
        frontend_rules:
                - usr: user2
                  db: dbtpcc
                  pooling_mode: SESSION
                  auth_rule:
                          auth_method: 'notok'
                - usr: user3
                  db: dbtpcc
                  pooling_mode: SESSION
                  auth_rule:
                          auth_method: 'clear_text'
                          password: 'strong'
                - usr: user1
                  db: dbtpcc
                  pooling_mode: TRANSACTION
                  auth_rule:
                          auth_method: 'ok'
        require_ssl: false
        proto: 'tcp'
        tls:
                key_file: '/router/docker/router/server.key'
                cert_file: '/router/docker/router/server.cert'
        backend_rules:
                - tls:
                        key_file: '/router/docker/router/server.key'
                        cert_file: '/router/docker/router/server.cert' 
                  storage_cfg:
                        conn_addr: "192.168.233.03:6432"
                        conn_db: "db1"
                        conn_usr: "user1"
                        require_ssl: false
                        passwd: 12345678

                - tls:
                        key_file: '/router/docker/router/server.key'
                        cert_file: '/router/docker/router/server.cert'
                  storage_cfg:
                        conn_addr: "192.168.233.02:6432"
                        conn_db: "db1"
                        conn_usr: "user1"
                        require_ssl: false
                        passwd: 12345678

